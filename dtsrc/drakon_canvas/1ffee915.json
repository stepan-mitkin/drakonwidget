{"version":20180619,"tag":"680894199","params":"widget","when_created":1658401451.0171,"parent_id":"35f7b123","props":[],"created_by":"stipan","items":{"4":{"type":"loopend","text":"","one":"15","id":"4"},"37":{"branchId":1,"one":"40","id":"37","type":"branch","text":"Any nodes in selection?"},"5":{"type":"loopbegin","text":"id, node; visuals.nodes","one":"13","id":"5"},"41":{"type":"action","id":"41","one":"42","text":"selectionIds = Object.keys(\n    selection.prims\n)"},"50":{"type":"action","text":"reportSelection(widget)","one":"15","id":"50"},"11":{"flag1":1,"id":"11","type":"question","two":"4","one":"14","text":"boxesIntersect(\n    visuals.selectionFrame,\n    node.box\n)"},"12":{"flag1":1,"id":"12","type":"question","two":"4","one":"11","text":"canSelectNode(node)"},"48":{"type":"action","id":"48","one":"49","text":"snode = getNode(visuals, id)"},"42":{"flag1":1,"id":"42","type":"question","text":"selectionIds.length === 0","one":"39","two":"43"},"44":{"flag1":1,"id":"44","type":"question","text":"prim === \"node\"","one":"48","two":"45"},"43":{"type":"action","id":"43","one":"44","text":"id = selectionIds[0]\nprim = selection.prims[id]"},"1":{"type":"end","id":"1"},"15":{"branchId":3,"one":"1","id":"15","type":"branch","text":"Exit"},"49":{"flag1":1,"id":"49","type":"question","two":"15","one":"2","text":"canSelectNode(snode)"},"47":{"type":"action","id":"47","one":"15","text":"reportSelection(widget)"},"46":{"flag1":1,"id":"46","type":"question","text":"tryAddFreeToBlock(widget)","one":"47","two":"15"},"14":{"type":"action","text":"addToSelection(widget, node)","one":"4","id":"14"},"13":{"flag1":0,"id":"13","type":"question","two":"4","one":"12","text":"isSelected(widget, id)"},"2":{"branchId":2,"one":"5","id":"2","type":"branch","text":"Add nodes"},"39":{"flag1":0,"id":"39","type":"question","two":"50","one":"2","text":"tryAddFreeToBlock(widget)"},"40":{"type":"action","text":"selection = widget.selection\nvisuals = widget.visuals","one":"41","id":"40"},"45":{"flag1":1,"id":"45","type":"question","text":"prim === \"free\"","one":"46","two":"15"}},"updated_by":"stipan","when_updated":1671309743.6702,"type":"drakon","keywords":{"scenario":false,"async":false,"export":false,"function":true,"algoprop":false},"name":"blockSelect","language":"LANG_S42"}