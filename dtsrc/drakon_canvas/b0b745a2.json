{"version":20180619,"tag":"605135628","params":"widget","when_created":1657536263.9535,"parent_id":"befd80d4","props":[],"created_by":"stipan","items":{"4":{"branchId":10,"one":"101","id":"4","type":"branch","text":"Exit"},"101":{"one":"38","id":"101","type":"action","text":"buildBoxes(widget, visuals)","two":""},"21":{"type":"action","text":"branch = getNode(visuals, bItemId)\nbranch.addresses = context.addresses","one":"11","id":"21"},"22":{"branchId":5,"one":"52","id":"22","type":"branch","text":"Visual graph"},"61":{"type":"select","id":"61","one":"62","text":"model.type"},"11":{"type":"loopend","id":"11","one":"22","text":""},"81":{"one":"88","id":"81","type":"action","text":"removeTempEdges(visuals)","two":""},"62":{"one":"103","id":"62","type":"case","text":"\"drakon\"","two":"63"},"72":{"one":"68","id":"72","type":"action","text":"config.zoom = widget.zoomFactor","two":""},"33":{"type":"action","text":"positionLevels(visuals)","one":"34","id":"33"},"52":{"flag1":0,"id":"52","type":"question","two":"26","one":"23","text":"model.branches.length === 0"},"13":{"type":"action","text":"context = {\n    visuals: visuals,\n    addresses: []\n}","one":"20","id":"13"},"14":{"branchId":3,"one":"16","id":"14","type":"branch","text":"Create nodes"},"64":{"one":"14","id":"64","type":"case","two":"","text":"\"free\""},"34":{"type":"action","text":"drawParams(visuals)","one":"79","id":"34"},"45":{"type":"action","id":"45","one":"46","text":"element = freeFromItem(visuals, id, item)"},"83":{"one":"85","id":"83","type":"action","two":"","text":"forType(visuals, \"address\", putCycleMark)"},"24":{"type":"action","text":"layoutPrimitive(visuals)","one":"26","id":"24"},"15":{"type":"loopend","id":"15","one":"47","text":""},"16":{"type":"loopbegin","text":"id, item; model.items","one":"54","id":"16"},"76":{"type":"action","id":"76","one":"77","text":"buildMindTree(visuals)"},"46":{"type":"action","text":"flowFreeIcon(widget, visuals, element)","one":"15","id":"46"},"67":{"branchId":1,"one":"69","id":"67","type":"branch","text":"Create visuals object"},"54":{"flag1":0,"id":"54","type":"question","two":"55","one":"44","text":"item.type === \"connection\""},"47":{"type":"action","id":"47","one":"60","text":"sortFreeIcons(visuals)"},"77":{"type":"action","id":"77","one":"78","text":"setSameWidthMind(visuals)"},"27":{"type":"action","text":"buildSkewers(visuals)","one":"29","id":"27"},"88":{"one":"83","id":"88","type":"action","two":"","text":"positionDurations(visuals)"},"58":{"one":"56","id":"58","type":"case","text":"\"graf\"","two":"57"},"55":{"type":"action","id":"55","one":"15","text":"addConnectionToVisuals(visuals, id, item)"},"56":{"branchId":8,"one":"76","id":"56","type":"branch","text":"Graf"},"89":{"branchId":9,"one":"4","id":"89","type":"branch","text":"Free"},"86":{"one":"87","id":"86","type":"action","text":"traceLoops(visuals)","two":""},"38":{"type":"action","id":"38","one":"6","text":"visuals.box = calculateDiagramBox(\n    visuals\n)"},"57":{"type":"case","text":"\"free\"","one":"89","id":"57"},"87":{"one":"4","id":"87","type":"action","text":"forType(visuals, \"arrow-loop\", markArrow)","two":""},"28":{"type":"loopend","text":"","one":"42","id":"28"},"78":{"type":"action","text":"reflowContent(visuals)","one":"102","id":"78"},"18":{"type":"action","id":"18","one":"15","text":"flowIcon(visuals, node)"},"68":{"one":"2","id":"68","type":"action","text":"visuals = {\n    ctx: ctx,\n    nextId: 1,\n    nodes: {},\n    edges: {},\n    skewers: {},\n    levels: {},\n    byType: {},\n    skewerLinks: [],\n    levelLinks: [],\n    itemsToNodes: {},\n    branches: model.branches.slice(),\n    tempEdges: [],\n    blocks: [],\n    sockets: [],\n    subs: [],\n    free: [],\n    handles: [],\n    guides: [],\n    fonts: {},\n    connections: {},\n    connectionById: {},\n    ears: undefined,\n    type: model.type,\n    config: config,\n    container: widget.contentContainer\n}","two":""},"79":{"branchId":7,"one":"81","id":"79","type":"branch","text":"Post process drakon"},"69":{"one":"71","id":"69","type":"action","text":"model = widget.model","two":""},"105":{"flag1":0,"id":"105","type":"question","text":"item.type === \"header\"","one":"108","two":"15"},"104":{"type":"action","id":"104","one":"14","text":"buildGrafHeader(visuals, model)"},"103":{"type":"action","id":"103","one":"14","text":"buildDrakonHeader(visuals, model)"},"85":{"one":"86","id":"85","type":"action","text":"connectLoops(visuals)","two":""},"32":{"type":"action","text":"positionSkewers(visuals)","one":"33","id":"32"},"23":{"flag1":0,"id":"23","type":"question","two":"25","one":"24","text":"model.branches.length > 1"},"100":{"type":"action","text":"positionMind(visuals)","one":"4","id":"100"},"30":{"type":"action","text":"setSameWidth(visuals, skewer)","one":"28","id":"30"},"102":{"type":"action","text":"setSameHeightMind(visuals)","one":"100","id":"102"},"17":{"type":"action","text":"node = nodeFromItem(visuals, item)","one":"18","id":"17"},"26":{"branchId":6,"one":"27","id":"26","type":"branch","text":"Calculate coords"},"108":{"flag1":0,"id":"108","type":"question","two":"15","one":"17","text":"item.type === \"params\""},"31":{"type":"action","text":"setSameHeight(visuals)","one":"32","id":"31"},"42":{"type":"action","id":"42","one":"31","text":"reflowContent(visuals)"},"1":{"type":"end","id":"1"},"44":{"flag1":0,"id":"44","type":"question","text":"isFree(widget, item)","one":"105","two":"45"},"5":{"branchId":4,"one":"12","id":"5","type":"branch","text":"Link nodes"},"59":{"one":"5","id":"59","type":"case","two":"58","text":"\"drakon\""},"6":{"type":"action","text":"return visuals","one":"1","id":"6"},"29":{"type":"loopbegin","id":"29","one":"30","text":"id, skewer; visuals.skewers"},"60":{"type":"select","id":"60","one":"59","text":"model.type"},"63":{"one":"104","id":"63","type":"case","text":"\"graf\"","two":"64"},"70":{"one":"72","id":"70","type":"action","text":"ctx = widget.canvas.getContext(\"2d\")","two":""},"71":{"one":"70","id":"71","type":"action","text":"config = mergeStyleIntoConfig(\n    model.doc.style,\n    widget.config\n)","two":""},"2":{"branchId":2,"one":"61","id":"2","type":"branch","text":"Header and params"},"25":{"type":"action","text":"layoutSilhouette(visuals)","one":"26","id":"25"},"12":{"type":"loopbegin","text":"bItemId; visuals.branches","one":"13","id":"12"},"20":{"type":"action","id":"20","one":"21","text":"linkNodeToChildren(context, bItemId)"}},"type":"drakon","when_updated":1674296489.9791,"updated_by":"stipan","keywords":{"scenario":false,"async":false,"export":false,"function":true,"algoprop":false},"name":"buildVisuals","language":"LANG_S42"}