{"version":20180619,"tag":"507659570","params":"diagram\nchange","when_created":1661097657.1491,"parent_id":"1b1117a0","props":[],"language":"LANG_S42","items":{"4":{"one":"16","id":"4","type":"case","two":"","text":"\"delete\""},"21":{"type":"action","text":"return undoChange","one":"1","id":"21"},"28":{"one":"27","id":"28","type":"action","two":"","text":"undoChange = {fields: {}}"},"7":{"one":"6","id":"7","type":"select","two":"","text":"change.op"},"18":{"branchId":3,"one":"28","id":"18","type":"branch","text":"Diagram"},"14":{"one":"26","id":"14","type":"action","text":"item = diagram.items[change.id]","two":""},"8":{"one":"17","id":"8","type":"action","text":"undoChange = {\n    id: change.id,\n    op: \"delete\"\n}","two":""},"19":{"branchId":1,"one":"20","id":"19","type":"branch","text":"Item or diagram?"},"9":{"one":"14","id":"9","type":"action","two":"","text":"undoChange = {\n    id: change.id,\n    op: \"update\",\n    fields: {}\n}"},"6":{"one":"8","id":"6","type":"case","two":"5","text":"\"insert\""},"16":{"one":"15","id":"16","type":"action","two":"","text":"item = diagram.items[change.id]"},"15":{"one":"17","id":"15","type":"action","two":"","text":"undoChange = {\n    id: change.id,\n    op: \"insert\",\n    fields: clone(item)\n}"},"1":{"type":"end","id":"1"},"17":{"branchId":4,"one":"21","id":"17","type":"branch","text":"Exit"},"26":{"type":"action","text":"getOldValues(\n    item,\n    change.fields,\n    undoChange.fields\n)","one":"17","id":"26"},"2":{"branchId":2,"one":"7","id":"2","type":"branch","text":"Item"},"5":{"one":"9","id":"5","type":"case","two":"4","text":"\"update\""},"27":{"type":"action","text":"getOldValues(\n    diagram,\n    change.fields,\n    undoChange.fields\n)","one":"17","id":"27"},"20":{"flag1":1,"id":"20","type":"question","text":"change.id","one":"2","two":"18"}},"updated_by":"stipan","keywords":{"scenario":false,"async":false,"export":false,"function":true,"algoprop":false},"type":"drakon","when_updated":1664959018.6913,"name":"createUndoChange","created_by":"stipan"}