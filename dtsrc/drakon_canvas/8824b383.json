{"version":20180619,"tag":"405481494","params":"widget\nid\nordinal","when_created":1672946219.9743,"parent_id":"c7c5feee","props":[],"language":"LANG_S42","items":{"70":{"type":"action","text":"dx = 0\ndy = -shift","one":"58","id":"70"},"40":{"flag1":1,"id":"40","type":"question","two":"43","one":"44","text":"Math.abs(cx2) > Math.abs(cy2)"},"21":{"type":"action","id":"21","one":"20","text":"newVertex = {\n    x: old.x + dx,\n    y: old.y + dy,\n    radius: 0\n}"},"41":{"type":"action","id":"41","one":"42","text":"pindex = (ordinal + len - 1) % len\nnindex = (ordinal + 1) % len"},"22":{"branchId":1,"one":"35","id":"22","type":"branch","text":"Prepare"},"32":{"one":"38","id":"32","type":"action","two":"","text":"old = element.coords[ordinal]"},"11":{"branchId":8,"one":"37","id":"11","type":"branch","text":"Perform edit"},"12":{"branchId":7,"one":"21","id":"12","type":"branch","text":"Insert vertex"},"62":{"one":"63","id":"62","type":"loopbegin","text":"point; element.coords","two":""},"72":{"flag1":1,"id":"72","type":"question","two":"54","one":"53","text":"cy2 > 0"},"33":{"one":"32","id":"33","type":"action","text":"element = getFree(visuals, id)","two":""},"63":{"flag1":0,"id":"63","type":"question","two":"64","one":"61","text":"point.y > old.y"},"13":{"type":"loopend","text":"","one":"12","id":"13"},"14":{"type":"loopbegin","text":"point; element.coords","one":"15","id":"14"},"64":{"one":"61","id":"64","type":"action","two":"","text":"point.y += shift * 2"},"34":{"one":"36","id":"34","type":"action","text":"radius = visuals.config.socketTouchRadius","two":""},"53":{"branchId":3,"one":"70","id":"53","type":"branch","text":"Move vertexes up"},"65":{"type":"action","id":"65","one":"41","text":"len = element.coords.length"},"15":{"flag1":0,"id":"15","type":"question","two":"19","one":"13","text":"point.x < old.x"},"35":{"one":"34","id":"35","type":"action","text":"visuals = widget.visuals","two":""},"46":{"type":"loopend","id":"46","one":"12","text":""},"67":{"type":"action","id":"67","one":"14","text":"dx = -shift\ndy = 0"},"54":{"branchId":4,"one":"69","id":"54","type":"branch","text":"Move vertexes down"},"47":{"type":"loopbegin","text":"point; element.coords","one":"48","id":"47"},"58":{"one":"59","id":"58","type":"loopbegin","text":"point; element.coords","two":""},"37":{"type":"action","text":"savePoly(\n    widget,\n    id,\n    element.left,\n    element.top,\n    element.coords\n)","one":"1","id":"37"},"38":{"branchId":2,"one":"65","id":"38","type":"branch","text":"Find direction of shift"},"57":{"one":"12","id":"57","type":"loopend","text":"","two":""},"48":{"flag1":0,"id":"48","type":"question","text":"point.x > old.x","one":"46","two":"49"},"68":{"type":"action","id":"68","one":"47","text":"dx = shift\ndy = 0"},"73":{"flag1":1,"id":"73","type":"question","text":"cx2 > 0","one":"45","two":"2"},"49":{"type":"action","id":"49","one":"46","text":"point.x += shift * 2"},"71":{"type":"action","text":"cx1 = old.x - prev.x\ncx2 = next.x - old.x\ncy1 = old.y - prev.y\ncy2 = next.y - old.y","one":"40","id":"71"},"69":{"type":"action","id":"69","one":"62","text":"dx = 0\ndy = shift"},"1":{"type":"end","id":"1"},"66":{"flag1":1,"id":"66","type":"question","two":"45","one":"2","text":"next.x < old.x"},"61":{"one":"12","id":"61","type":"loopend","text":"","two":""},"60":{"one":"57","id":"60","type":"action","two":"","text":"point.y -= shift * 2"},"59":{"flag1":0,"id":"59","type":"question","two":"60","one":"57","text":"point.y < old.y"},"55":{"flag1":1,"id":"55","type":"question","text":"next.y < old.y","one":"53","two":"54"},"44":{"flag1":1,"id":"44","type":"question","two":"72","one":"66","text":"cx1 * cx2 >= 0"},"19":{"type":"action","text":"point.x -= shift * 2","one":"13","id":"19"},"36":{"one":"33","id":"36","type":"action","text":"shift = radius * 2","two":""},"43":{"flag1":1,"id":"43","type":"question","text":"cy1 * cy2 >= 0","one":"55","two":"73"},"2":{"branchId":5,"one":"67","id":"2","type":"branch","text":"Move vertexes left"},"45":{"branchId":6,"one":"68","id":"45","type":"branch","text":"Move vertexes right"},"42":{"type":"action","id":"42","one":"71","text":"prev = element.coords[pindex]\nnext = element.coords[nindex]"},"20":{"type":"action","text":"element.coords.splice(\n    ordinal + 1,\n    0,\n    newVertex\n)","one":"11","id":"20"}},"keywords":{"scenario":false,"async":false,"export":false,"function":true,"algoprop":false},"type":"drakon","updated_by":"stipan","created_by":"stipan","name":"addVertex","when_updated":1672985107.2535}