{"version":20180619,"tag":"943274772","params":"html","when_created":1667814603.4577,"parent_id":"f2ec426b","props":[],"when_updated":1668156175.669,"items":{"10":{"branchId":3,"one":"13","id":"10","type":"branch","text":"Scan DOM nodes"},"21":{"type":"action","id":"21","one":"12","text":"processOrdered(node.childNodes, lines)"},"22":{"type":"action","text":"processParagraph(node, lines)","one":"12","id":"22"},"9":{"branchId":4,"one":"11","id":"9","type":"branch","text":"Exit"},"11":{"type":"action","text":"return lines","one":"1","id":"11"},"23":{"one":"12","id":"23","type":"case","two":"24","text":"\"script\""},"5":{"type":"action","text":"parser = new DOMParser()","one":"6","id":"5"},"7":{"type":"action","id":"7","one":"3","text":"html = html || \"\""},"18":{"one":"20","id":"18","type":"case","text":"\"ul\"","two":"17"},"29":{"flag1":1,"id":"29","type":"question","text":"name === \"#text\"","one":"30","two":"10"},"13":{"type":"loopbegin","text":"node; body.childNodes","one":"14","id":"13"},"14":{"type":"action","id":"14","one":"19","text":"name = getNodeName(node)"},"26":{"flag1":1,"id":"26","type":"question","two":"10","one":"28","text":"body.childNodes.length === 1"},"8":{"type":"action","id":"8","one":"25","text":"body = doc.documentElement.childNodes[1]"},"1":{"type":"end","id":"1"},"30":{"type":"action","text":"lines = wrapInLineObjects(\n    splitToTokens(firstNode.nodeValue)\n)","one":"9","id":"30"},"24":{"one":"12","id":"24","type":"case","two":"16","text":"\"#text\""},"6":{"type":"action","text":"doc = parser.parseFromString(\n    html,\n    \"text\/html\"\n)","one":"8","id":"6"},"16":{"type":"case","one":"22","id":"16"},"28":{"type":"action","text":"firstNode = body.childNodes[0]","one":"27","id":"28"},"25":{"branchId":2,"one":"26","id":"25","type":"branch","text":"Plain text?"},"12":{"type":"loopend","text":"","one":"9","id":"12"},"3":{"type":"action","id":"3","one":"5","text":"lines = []"},"17":{"one":"21","id":"17","type":"case","two":"23","text":"\"ol\""},"2":{"branchId":1,"one":"7","id":"2","type":"branch","text":"Parse DOM"},"19":{"type":"select","id":"19","one":"18","text":"name"},"27":{"type":"action","id":"27","one":"29","text":"name = getNodeName(firstNode)"},"20":{"type":"action","id":"20","one":"12","text":"processUnordered(node.childNodes, lines)"}},"type":"drakon","keywords":{"scenario":false,"async":false,"export":false,"function":true,"algoprop":false},"updated_by":"stipan","language":"LANG_S42","name":"splitToTokensHtml","created_by":"stipan"}